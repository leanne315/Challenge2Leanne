<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GRID</title>
    <link rel="stylesheet" href="styles/challenge2.css">
    <link href="https://fonts.googleapis.com/css?family=Anton" rel="stylesheet">
  </head>
  <body>
    <section class="grid">
      <div class="item-1">
        <canvas id="myCanvas"></canvas>
      </div>
    </section>

    <script>
  		window.onload = function() {
  			var canvas = document.getElementById('myCanvas');
  			canvas.width = window.innerWidth;
              canvas.height = window.innerHeight;

  			var sun = new Image();
  			sun.src="styles/sun300.png";

  			var point = {x:canvas.width/2-sun.width/2, y:canvas.height};

  			var d = new Date(); // for now
  			var s = d.getSeconds();

  			var c = document.getElementById("myCanvas");
  			var ctx = c.getContext("2d");
  			ctx.drawImage(sun, point.x, point.y);
  			ctx.font = "100px Arial";

  			function currentPositionOneMinuteMillis() {
  				var d = new Date(); // for now
  				//d.getHours();
  				//d.getMinutes();
  				var s = d.getSeconds();
  				var ms = d.getMilliseconds();
  				var t = s*1000 + ms;
  				var duration = 30000; // seconden: Zon volledig op duurt 30.000 ms seconden, zon volledig onder duurt 30 seconden.

  				if (t <=duration) {
  					point.y = canvas.height-sun.height - (t/duration * canvas.height-sun.height);
  				} else {
  					point.y = sun.height + ((t-duration)/duration * canvas.height-sun.height);
  				}

  				/*
  				Seconden	Positie
  				0			canvas.height-sun.height	   	= 450
  				15			canvas.height-sun.height *15/30	= 225
  				30			0								= 0

  				45			canvas.height-sun.height *15/30	= 225
  				*/
  			}



  			 setInterval(
  				function animate() {
  					var d = new Date();
  					ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);
  					//currentPositionOneMinuteMillis();
  					// currentPositionOneMinute();
  					// currentPositionOneHour();
  					currentPositionOneMinuteMillis();
  					ctx.drawImage(sun, point.x, point.y);
  					ctx.fillText(d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds(), window.innerWidth/2-200, 250);
  					//ctx.fillText(d.getMilliseconds(), 0, 100);
  				}
  				, 10
  			);


  		}
  	</script>

  </body>
</html>
